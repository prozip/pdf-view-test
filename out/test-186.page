<div id="pfba" class="pf w0 h0" data-page-no="ba"><div class="pc pcba w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bgba.png"/><div class="t m0 x42 h14 y80 ff7 fs7 fcb sc0 ls6 ws0">162</div><div class="t m0 xb9 h2b y1cf ffb fs18 fcb sc0 ls6 ws0">C</div><div class="t m0 xd3 h2c y1d0 ffb fs19 fcb sc0 lsf6 ws0">HAPTER</div><div class="t m0 xd9 h2b y1cf ffb fs18 fcb sc0 ls8c ws0"> 9</div><div class="t m0 x1f h2d y80 ffa fs7 fcb sc0 ls6 ws0">Keeping things lightweight</div><div class="t m0 x44 h15 y40 ff4 fsb fc3 sc0 ls34 ws323">calculation or task. For classes, it means <span class="ls51 ws11b">dealing with a single, focused facet of some</span></div><div class="t m0 x44 h15 y13fa ff4 fsb fc3 sc0 ls80 wsff">larger busi<span class="ls36 ws35">ness problem.</span></div><div class="t m0 x32 h15 y13fb ff4 fsb fc3 sc0 ls20 ws3e8"> If you spot a function perfo<span class="_ _e"></span>rming two ta<span class="ws29d">sks or a class that <span class="ls2c ws89e">contains two distinct</span></span></div><div class="t m0 x44 h15 y13fc ff4 fsb fc3 sc0 ls3a ws12e">areas of focus, that’s a strong<span class="ls30 ws37d"> signal of an opportunity to<span class="_ _e"></span> separate them. But there may</span></div><div class="t m0 x44 h15 y13fd ff4 fsb fc3 sc0 ls5f ws59">be times when what feels lik<span class="_ _0"></span>e <span class="ls2f ws23">a single task is still complex enough to warrant breaking</span></div><div class="t m0 x44 h15 y85d ff4 fsb fc3 sc0 ls81 ws26f">down further. </div><div class="t m0 x44 h26 y13fe ffc fs15 fc2 sc0 ls7b ws89f">Code complexity<span class="_ _e5"></span>9<span class="_ _0"></span>.<span class="_ _0"></span>1<span class="_ _0"></span>.<span class="_ _0"></span>3</div><div class="t m0 x44 h15 y13ff ff4 fsb fc3 sc0 ls1c ws17f">One of the more robust ways of understa<span class="_ _e"></span><span class="ls6b ws8a0">nding th<span class="_ _0"></span>e cognitive and maintenance impact</span></div><div class="t m0 x44 h15 y1400 ff4 fsb fc3 sc0 ls34 ws2c6">of code is through its <span class="ff3 ls3b ws0">complexity</span>. Like time and space complexity, code complexity is a</div><div class="t m0 x44 h15 y1401 ff4 fsb fc3 sc0 ls1c ws5d8">quantitative measurement of the characteri<span class="ls34 wsed">stics of your code, <span class="ls42 ws8a1">not just a subjective</span></span></div><div class="t m0 x44 h15 y1402 ff4 fsb fc3 sc0 ls2f ws23">measure of how confused <span class="ls2d ws31">you get by reading it.</span></div><div class="t m0 x32 h15 y1403 ff4 fsb fc3 sc0 ls48 ws68b"> Complexity measurement tools are a great <span class="ls42 ws502">thing to have in your tool <span class="_ _e"></span>belt. I find</span></div><div class="t m0 x44 h15 yf05 ff4 fsb fc3 sc0 ls48 ws192">that they often accurately point out code<span class="ls6 ws8a2"> I would have trouble re<span class="_ _e"></span>ading and under-</span></div><div class="t m0 x44 h15 y1404 ff4 fsb fc3 sc0 ls38 ws33f">standing as a human. In the next few sect<span class="lsf8 ws8a3">ions, I’ll show you what<span class="_ _e"></span> code complexity</span></div><div class="t m0 x44 h15 y1405 ff4 fsb fc3 sc0 ls1c ws21">looks like, along with some<span class="ls34 ws22"> tools for measuring it.</span></div><div class="t m0 x44 h30 y1406 ffb fsc fc2 sc0 ls6 ws0">M</div><div class="t m0 x35 h5a y1407 ffb fs20 fc2 sc0 ls163 ws0">EASURING</div><div class="t m0 xd8 h30 y1406 ffb fsc fc2 sc0 ls6 ws0"> </div><div class="t m0 x36 h5a y1407 ffb fs20 fc2 sc0 ls11e ws0">CODE</div><div class="t m0 xe6 h30 y1406 ffb fsc fc2 sc0 ls6 ws0"> </div><div class="t m0 x1d h5a y1407 ffb fs20 fc2 sc0 ls1d3 ws0">COMPLEXITY</div><div class="t m0 x44 h15 y1408 ff4 fsb fc3 sc0 ls31 ws213">A common measure of<span class="ls70 ws6d7"> complexity is <span class="_ _e"></span><span class="ff3 ls30 ws0">cyclomatic</span><span class="ls21 ws2ff"> complexity. Al<span class="_ _0"></span>thou<span class="ls2d ws3eb">gh the name sounds</span></span></span></div><div class="t m0 x44 h15 y52 ff4 fsb fc3 sc0 ls3e ws19e">scarily scientific, measuring cyclomatic<span class="_ _0"></span> complexity involves determini<span class="_ _0"></span>ng the number</div><div class="t m0 x44 h15 y1409 ff4 fsb fc3 sc0 ls51 wsfb">of execution paths through a function or<span class="ls30 ws77c"> method. The structure (and therefore,</span></div><div class="t m0 x44 h15 y140a ff4 fsb fc3 sc0 ls7d ws8a4">complexity) of a function is affected by <span class="ls42 ws2e3">the number of conditional expressions <span class="_ _e"></span>and</span></div><div class="t m0 x44 h15 y140b ff4 fsb fc3 sc0 ls31 ws25">loops it contains.</div><div class="t m0 x32 h15 y140c ff4 fsb fc3 sc0 ls20 ws40a"> The higher the complexity score is fo<span class="_ _e"></span>r <span class="ls42 wsc4">a function or method, the more co<span class="_ _e"></span>ndition-</span></div><div class="t m0 x44 h15 yaee ff4 fsb fc3 sc0 ls2d ws27d">als and loops you should expect<span class="ls1e ws7d2"> it to contain. The specific score i<span class="_ _0"></span>sn’t always terribly</span></div><div class="t m0 x44 h15 y140d ff4 fsb fc3 sc0 ls35 ws3ca">useful; its trend over ti<span class="_ _0"></span>me, and how it chan<span class="_ _0"></span><span class="ls31 ws1d2">ges in response to alterations you make in</span></div><div class="t m0 x44 h15 y140e ff4 fsb fc3 sc0 ls31 ws3c3">the code, is what will help you write more<span class="ls3a ws61b"> maintainable software. Seek to drive your</span></div><div class="t m0 x44 h15 y140f ff4 fsb fc3 sc0 ls1c ws94">complexity scores down<span class="ls71 ws1cb"> over time, and consider pieces<span class="ls4b ws8a5"> of code with high comp<span class="_ _e"></span>lexity</span></span></div><div class="t m0 x44 h15 y1410 ff4 fsb fc3 sc0 ls31 ws25">when determining where to invest refactoring time.</div><div class="t m0 x32 h15 y5b3 ff4 fsb fc3 sc0 ls51 ws268"> You can measure the complexity of a functi<span class="ls2f ws15f">on yourself. <span class="_ _0"></span>By creating a graph of the</span></div><div class="t m0 x44 h15 y1411 ff3 fsb fc3 sc0 ls2f ws135">control flow<span class="ff4 ls7d ws8a4">, or the path the code takes as it <span class="ls34 ws42d">executes, you can count the number of</span></span></div><div class="t m0 x44 h15 y1412 ff4 fsb fc3 sc0 ls25 ws657">nodes and edges in the graph and calculate <span class="ls44">the cyclomatic complexity. The following</span></div><div class="t m0 x44 h15 y1413 ff4 fsb fc3 sc0 ls66 ws69">are represent<span class="_ _0"></span>ed as nodes in the <span class="ls47 ws54">control flow graph of a pro<span class="_ _e"></span>gram:</span></div><div class="t m0 x86 h29 y1414 ffe fs17 fca sc0 ls6 ws0"></div><div class="t m0 x87 h15 y1415 ff4 fsb fc3 sc0 ls44 ws34">The “start” of the function (where the control flow enters)</div><div class="t m0 x86 h29 y1416 ffe fs17 fca sc0 ls6 ws0"></div><div class="t m5 x87 h24 yff8 ffd fsc fc3 sc0 lsa0 ws0">if</div><div class="t m0 x97 h15 yff7 ff4 fsb fc3 sc0 ls6 ws0">/</div><div class="t m5 xd8 h24 yff8 ffd fsc fc3 sc0 lsa0 ws0">elif</div><div class="t m0 x37 h15 yff7 ff4 fsb fc3 sc0 ls6 ws0">/</div><div class="t m5 x1d h24 yff8 ffd fsc fc3 sc0 lsa0 ws0">else</div><div class="t m0 x67 h15 yff7 ff4 fsb fc3 sc0 ls38 ws26"> conditions (each one is its own node)</div><div class="t m0 x86 h29 y1417 ffe fs17 fca sc0 ls6 ws0"></div><div class="t m5 x87 h24 y1418 ffd fsc fc3 sc0 lsa0 ws0">for</div><div class="t m0 x90 h15 y1419 ff4 fsb fc3 sc0 ls71 wsd4"> loops </div><div class="t m0 x86 h29 y141a ffe fs17 fca sc0 ls6 ws0"></div><div class="t m5 x87 h24 y141b ffd fsc fc3 sc0 lsa0 ws0">while</div><div class="t m0 x15 h15 y141c ff4 fsb fc3 sc0 ls52 ws3f8"> loops</div><div class="t m0 x86 h29 y141d ffe fs17 fca sc0 ls6 ws0"></div><div class="t m0 x87 h15 y141e ff4 fsb fc3 sc0 ls139 ws8a6">The “end” of a loop (where you draw the execution path back to the start of the loop)</div><div class="t m0 x86 h29 y141f ffe fs17 fca sc0 ls6 ws0"></div><div class="t m5 x87 h24 y1420 ffd fsc fc3 sc0 lsa0 ws0">return</div><div class="t m0 xc3 h15 y1421 ff4 fsb fc3 sc0 ls2d ws31"> statements</div><div class="t m0 x44 h15 y9e2 ff4 fsb fc3 sc0 ls2d ws103">Consider the function in the following list<span class="ls51 wsba">ing, <span class="_ _0"></span>which accepts a se<span class="ls30 ws10b">ntence as either a</span></span></div><div class="t m0 x44 h15 y9e3 ff4 fsb fc3 sc0 ls44 wseb">string or a list of words and determines whet<span class="ls25">her the sentence has any long words in it.</span></div><div class="t m0 x44 h15 y1422 ff4 fsb fc3 sc0 ls30 ws36">It contains a loop and mult<span class="ls25 ws1a">iple conditional expressions.</span></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
