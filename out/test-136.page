<div id="pf88" class="pf w0 h0" data-page-no="88"><div class="pc pc88 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg88.png"/><div class="t m0 x42 h14 y80 ff7 fs7 fcb sc0 ls6 ws0">112</div><div class="t m0 x66 h2b y1cf ffb fs18 fcb sc0 ls6 ws0">C</div><div class="t m0 x8e h2c y1d0 ffb fs19 fcb sc0 ls185 ws0">HAPTER</div><div class="t m0 xf1 h2b y1cf ffb fs18 fcb sc0 ls8c ws0"> 6</div><div class="t m0 xe4 h2d y80 ffa fs7 fcb sc0 ls6 ws0">Separation of concerns in practice</div><div class="t m0 x44 h15 y695 ff4 fsb fc3 sc0 ls3d ws71f">You’ll use this method later on to crea<span class="_ _e"></span>te a </div><div class="t m5 x2b h24 ye05 ffd fsc fc3 sc0 lsa0 ws0">bookmarks</div><div class="t m0 x111 h15 y695 ff4 fsb fc3 sc0 ls25 ws7d"> table, which is <span class="_ _0"></span>what Bark will</div><div class="t m0 x44 h15 y696 ff4 fsb fc3 sc0 ls47 ws38">interact with to manage bookmarks<span class="ls6 ws72"> as yo<span class="_ _e"></span>u develop the applicatio<span class="_ _e"></span>n. </span></div><div class="t m0 x44 h30 ye06 ffb fsc fc2 sc0 ls6 ws0">A<span class="fs20 ls11c">DDING</span> <span class="fs20 ls11e">RECORDS</span></div><div class="t m0 x44 h15 ye07 ff4 fsb fc3 sc0 ls47 ws298">Now that you can create a table, you need</div><div class="t m0 x44 h15 ye08 ff4 fsb fc3 sc0 ls1b8 ws0">t<span class="_ _3e"></span>o<span class="_ _3e"></span> b<span class="_ _25"></span>e<span class="_ _3e"></span> a<span class="_ _25"></span>b<span class="_ _3e"></span>l<span class="_ _25"></span>e<span class="_ _3e"></span> t<span class="_ _25"></span>o<span class="_ _3e"></span> a<span class="_ _25"></span>d<span class="_ _3e"></span>d<span class="_ _25"></span> b<span class="_ _3e"></span>o<span class="_ _25"></span>o<span class="_ _3e"></span>k<span class="_ _3e"></span>m<span class="_ _25"></span>a<span class="_ _3e"></span>r<span class="_ _25"></span>k<span class="_ _3e"></span> r<span class="_ _25"></span>e<span class="_ _3e"></span>c<span class="_ _25"></span>o<span class="_ _3e"></span>r<span class="_ _3e"></span>d<span class="_ _25"></span>s<span class="_ _3e"></span> t<span class="_ _25"></span>o<span class="_ _3e"></span> i<span class="_ _25"></span>t<span class="_ _3e"></span>.</div><div class="t m0 x44 h15 ye09 ff4 fsb fc3 sc0 ls8d ws1f9">This is the “<span class="_ _e"></span>C” in CRUD (figur<span class="_ _e"></span>e 6.4).</div><div class="t m0 x32 h15 ye0a ff4 fsb fc3 sc0 ls4e ws720"> SQLite expects the </div><div class="t m5 x23 h24 ye0b ffd fsc fc3 sc0 lsa0 ws721">INSERT INTO</div><div class="t m0 x6a h15 ye0a ff4 fsb fc3 sc0 ls2d ws492"> key-</div><div class="t m0 x44 h15 ye0c ff4 fsb fc3 sc0 lsac ws722">word, foll<span class="_ _0"></span>owed by the tabl<span class="_ _0"></span>e name, to indi-</div><div class="t m0 x44 h15 ye0d ff4 fsb fc3 sc0 ls48 ws224">cate the intent to add a new record to the</div><div class="t m0 x44 h15 ye0e ff4 fsb fc3 sc0 ls7d ws12a">table. This is followed by the list of columns</div><div class="t m0 x44 h15 ye0f ff4 fsb fc3 sc0 ls38 ws166">you’re supplying values for in parentheses,</div><div class="t m0 x44 h15 ye10 ff4 fsb fc3 sc0 ls7d ws0">the </div><div class="t m5 xae h24 ye11 ffd fsc fc3 sc0 lsa0 ws0">VALUES</div><div class="t m0 x79 h15 ye10 ff4 fsb fc3 sc0 ls44 ws723"> keyword, and then the values</div><div class="t m0 x44 h15 ye12 ff4 fsb fc3 sc0 ls1f ws51b">you’re supplying in <span class="ls42 ws62b">parentheses. A record</span></div><div class="t m0 x44 h15 ye13 ff4 fsb fc3 sc0 ls42 ws28">insert statement in SQLite looks like this:</div><div class="t m0 x44 h3b ye14 ffd fs18 fc3 sc0 lsb2 ws0">INSERT<span class="_"> </span>INTO<span class="_"> </span>bookmarks</div><div class="t m0 x44 h3b ye15 ffd fs18 fc3 sc0 lsb2 ws0">(title,<span class="_"> </span>url,<span class="_"> </span>notes,<span class="_"> </span>date_added)</div><div class="t m0 x44 h3b ye16 ffd fs18 fc3 sc0 lsb2 ws0">VALUES<span class="_"> </span>(&apos;GitHub&apos;,<span class="_"> </span>&apos;https://github.com&apos;,</div><div class="t m0 x44 h51 ye17 ff9 fs15 fc9 sc0 ls11f ws0">➥ </div><div class="t m0 x32 h3b ye18 ffd fs18 fc1 sc0 lsb2 ws0">&apos;A<span class="_"> </span>place<span class="_"> </span>to<span class="_"> </span>store<span class="_"> </span>repositories<span class="_"> </span>of<span class="_"> </span>code&apos;,<span class="_"> </span>&apos;2019-02-01T18:46:32.125467&apos;);</div><div class="t m0 x44 h15 ye19 ff4 fsb fc3 sc0 ls3a ws19f">Remember that it’s a good practice to<span class="ls3b ws1a0"> use <span class="_ _e"></span>placeholders instead, as in the </span></div><div class="t m5 xce h24 ye19 ffd fsc fc3 sc0 lsa0 ws0">_execute</div><div class="t m0 x44 h15 ye1a ff4 fsb fc3 sc0 ls2f ws26a">method earlier. What parts<span class="_ _0"></span> of the pr<span class="ls36 ws35">eceding query should<span class="ls7d ws11c"> use placeholders?</span></span></div><div class="t m0 xbc h3d ye1b ffb fs1e fca sc0 ls6 ws0">1</div><div class="t m5 x87 h24 ye1c ffd fsc fc3 sc0 lsa0 ws0">bookmarks</div><div class="t m0 xbc h3d ye1d ffb fs1e fca sc0 ls6 ws0">2</div><div class="t m5 x87 h24 ye1e ffd fsc fc3 sc0 lsa0 ws0">title</div><div class="t m0 x15 h15 ye1f ff4 fsb fc3 sc0 ls1a5 ws0">, </div><div class="t m5 xc3 h24 ye1e ffd fsc fc3 sc0 lsa0 ws0">url</div><div class="t m0 xad h15 ye1f ff4 fsb fc3 sc0 ls3b ws70">, and so on</div><div class="t m0 xbc h3d ye20 ffb fs1e fca sc0 ls6 ws0">3</div><div class="t m5 x87 h24 ye21 ffd fsc fc3 sc0 lsa0 ws0">&apos;GitHub&apos;</div><div class="t m0 x18 h15 ye22 ff4 fsb fc3 sc0 ls1a5 ws0">, </div><div class="t m5 xad h24 ye21 ffd fsc fc3 sc0 lsa0 ws0">&apos;https://gith<span class="_ _e"></span>ub.com&apos;</div><div class="t m0 x64 h15 ye22 ff4 fsb fc3 sc0 ls3b ws70">, and so on</div><div class="t m0 xbc h3d ye23 ffb fs1e fca sc0 ls6 ws0">4</div><div class="t m0 x87 h15 ye24 ff4 fsb fc3 sc0 ls66 ws69">All of the above</div><div class="t m0 x44 h15 y89f ff4 fsb fc3 sc0 ls36 ws2e7">Only places where literal values go can use <span class="ls30 ws250">placeholders in statements, so 3 is the cor-</span></div><div class="t m0 x44 h15 ye25 ff4 fsb fc3 sc0 ls81 ws724">rect answer. A<span class="_ _e"></span>n </div><div class="t m5 x17 h24 ye26 ffd fsc fc3 sc0 lsa0 ws0">INSERT</div><div class="t m0 x16 h15 ye25 ff4 fsb fc3 sc0 ls3d ws476"> statement for the </div><div class="t m5 x3f h24 ye26 ffd fsc fc3 sc0 lsa0 ws0">bookmarks</div><div class="t m0 xf8 h15 ye25 ff4 fsb fc3 sc0 ls42 ws112"> table, with placeholders, looks</div><div class="t m0 x44 h15 ye27 ff4 fsb fc3 sc0 ls6d ws3e7">like this:</div><div class="t m0 x44 h3b ye28 ffd fs18 fc3 sc0 lsb2 ws0">INSERT<span class="_"> </span>INTO<span class="_"> </span>bookmarks</div><div class="t m0 x44 h3b ye29 ffd fs18 fc3 sc0 lsb2 ws0">(title,<span class="_"> </span>url,<span class="_"> </span>notes,<span class="_"> </span>date_added)</div><div class="t m0 x44 h3b ye2a ffd fs18 fc1 sc0 lsb2 ws0">VALUES<span class="_"> </span>(?,<span class="_"> </span>?,<span class="_"> </span>?,<span class="_"> </span>?);</div><div class="c x44 ye2b w2 hcc"><div class="t m0 xb7 h2f ye2c ffb fs15 fc2 sc0 ls1b9 ws3cb">A note on ge<span class="_ _e"></span>neralization </div><div class="t m0 xb7 h30 ye2d fff fsc fc3 sc0 lsb8 ws725">Right now, you need on<span class="_ _e"></span>ly the </div><div class="t m5 xd8 h24 ye2d ffd fsc fc3 sc0 lsa0 ws0">bookmarks</div><div class="t m0 x67 h30 ye2d fff fsc fc3 sc0 ls187 ws726"> table for Bark. I’ve alr<span class="_ _0"></span>eady argued in this</div><div class="t m0 xb7 h30 ye2e fff fsc fc3 sc0 ls165 ws727">book that early optimiza<span class="_ _e"></span>tion is a no-no, and the same is true for ge<span class="_ _e"></span>neralization. So</div><div class="t m0 xb7 h30 ye2f fff fsc fc3 sc0 lsca wsb">why make a gene<span class="_ _e"></span>ral-use </div><div class="t m5 x83 h24 ye2f ffd fsc fc3 sc0 lsa0 ws0">create_tabl<span class="_ _e"></span>e</div><div class="t m0 x3a h30 ye2f fff fsc fc3 sc0 ls96 ws728"> method?</div><div class="t m0 xb7 h30 ye30 fff fsc fc3 sc0 ls188 ws729">When I start building a method with<span class="_ _e"></span> <span class="_ _0"></span>hardcoded values, I check to see if it’<span class="_ _e"></span>s much work</div><div class="t m0 xb7 h30 ye31 fff fsc fc3 sc0 ls1ba ws72a">to parameterize th<span class="_ _e"></span>ose values with arguments to th<span class="_ _e"></span>e method. For example, repla<span class="_ _e"></span>cing</div><div class="t m0 xb7 h30 ye32 fff fsc fc3 sc0 lsca ws72b">the string </div><div class="t m5 xd2 h24 ye32 ffd fsc fc3 sc0 lsa0 ws0">&apos;bookmarks&apos;</div><div class="t m0 x86 h30 ye32 fff fsc fc3 sc0 ls16a ws72c"> with a </div><div class="t m5 x3d h24 ye32 ffd fsc fc3 sc0 lsa0 ws0">table_name</div><div class="t m0 xf2 h30 ye32 fff fsc fc3 sc0 ls188 ws72d"> string argument is<span class="_ _e"></span>n’t much work. The col-</div><div class="t m0 xb7 h30 ye33 fff fsc fc3 sc0 ls95 ws72e">umns and their d<span class="_ _e"></span>ata types follow similarly. Using th<span class="_ _e"></span>is approach, the </div><div class="t m5 x98 h24 ye33 ffd fsc fc3 sc0 lsa0 ws0">create_tabl<span class="_ _e"></span>e</div><div class="t m0 xb7 h30 ye34 fff fsc fc3 sc0 ls1ba ws72f">method can be <span class="_ _e"></span>made general enough <span class="_ _e"></span>to create most any table you<span class="_ _e"></span>’ll need.</div></div><div class="c x5f ye35 w59 hcd"><div class="t m0 xfd h36 ye36 ff11 fs1c fc12 sc0 ls6 ws0">Create: Add a new bookmark.</div><div class="t m0 xfd h36 ye37 ff11 fs1c fc12 sc0 ls6 ws0">Read: Get the information of an existing</div><div class="t m0 xfd h36 ye38 ff11 fs1c fc12 sc0 ls6 ws0">bookmark, a list of all the bookmarks, or</div><div class="t m0 xfd h36 ye39 ff11 fs1c fc12 sc0 ls6 ws0">specific bookmarks that meet some criteria.</div><div class="t m0 xfd h36 ye3a ff11 fs1c fc12 sc0 ls6 ws0">Update: Edit the information in a</div><div class="t m0 xfd h36 ye3b ff11 fs1c fc12 sc0 ls6 ws0">bookmark, like the title or description. </div><div class="t m0 xfd h36 ye3c ff11 fs1c fc12 sc0 ls6 ws0">Delete: Remove a bookmark.</div></div><div class="c x80 ye3d wa hce"><div class="t m0 xf9 h2b ye3e ffb fs18 fcb sc0 lsb2 ws493">Figure 6.4<span class="_ _29"> </span>Creation is the most basic </div><div class="t m0 xf9 h2b ye3f ffb fs18 fcb sc0 ls18 ws43b">operation necessary for CRUD, so it<span class="_ _0"></span>’s the </div><div class="t m0 xf9 h2b ye40 ffb fs18 fcb sc0 ls1bb ws730">crux of many systems.</div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
