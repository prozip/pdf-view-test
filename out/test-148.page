<div id="pf94" class="pf w0 h0" data-page-no="94"><div class="pc pc94 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg94.png"/><div class="t m0 x42 h14 y80 ff7 fs7 fcb sc0 ls6 ws0">124</div><div class="t m0 x66 h2b y1cf ffb fs18 fcb sc0 ls6 ws0">C</div><div class="t m0 x8e h2c y1d0 ffb fs19 fcb sc0 ls185 ws0">HAPTER</div><div class="t m0 xf1 h2b y1cf ffb fs18 fcb sc0 ls8c ws0"> 6</div><div class="t m0 xe4 h2d y80 ffa fs7 fcb sc0 ls6 ws0">Separation of concerns in practice</div><div class="t m0 xae h3b y395 ffd fs18 fc3 sc0 lsb2 ws0">choice<span class="_"> </span>=<span class="_"> </span>input(&apos;Choose<span class="_"> </span>an<span class="_"> </span>option:<span class="_"> </span>&apos;)</div><div class="t m0 xae h3b y396 ffd fs18 fc3 sc0 lsb2 ws0">while<span class="_"> </span>not<span class="_"> </span>option_choice_is_valid(choice,<span class="_"> </span>options):</div><div class="t m0 xd8 h3b y397 ffd fs18 fc3 sc0 lsb2 ws0">print(&apos;Invalid<span class="_"> </span>choice&apos;)</div><div class="t m0 x97 h3b y40d ffd fs18 fc3 sc0 lsb2 ws0">choice<span class="_"> </span>=<span class="_"> </span>input(&apos;Choose<span class="_"> </span>an<span class="_"> </span>option:<span class="_"> </span>&apos;)</div><div class="t m0 xae h3b y483 ffd fs18 fc3 sc0 lsb2 ws0">return<span class="_"> </span>options[choice.upper()]</div><div class="t m0 x44 h3b y569 ffd fs18 fc3 sc0 lsb2 ws0">if<span class="_"> </span>__name__<span class="_"> </span>==<span class="_"> </span>&apos;__main__&apos;:</div><div class="t m0 xae h3b y56a ffd fs18 fc3 sc0 lsb2 ws0">...</div><div class="t m0 xae h3b y487 ffd fs18 fc3 sc0 lsb2 ws0">chosen_option<span class="_"> </span>=<span class="_"> </span>get_option_choice(options)</div><div class="t m0 xae h3b y58f ffd fs18 fc1 sc0 lsb2 ws0">chosen_option.choose()</div><div class="t m0 x44 h15 y89 ff4 fsb fc3 sc0 ls34 ws143">At this point, you can run Bark, and some<span class="ls42 wsde"> of the com<span class="_ _e"></span>mands, like listing bookmarks</span></div><div class="t m0 x44 h15 yeb5 ff4 fsb fc3 sc0 ls51 ws1bb">and quitting, will respond to your input. Bu<span class="ls3a ws18c">t a couple of options require some addi-</span></div><div class="t m0 x44 h15 y1001 ff4 fsb fc3 sc0 ls38 wsc5">tional preparation, as I allude<span class="lsae ws78f">d to earlier<span class="_ _0"></span>. You need to supp<span class="ls5e ws4bf">ly a title, description, and</span></span></div><div class="t m0 x44 h15 yad6 ff4 fsb fc3 sc0 ls5e ws31e">so on to add a bookmark, and you need to specify the ID of a bookmark to delete it.</div><div class="t m0 x44 h15 yeb9 ff4 fsb fc3 sc0 ls20 ws621">Much like you got user input for the menu<span class="ls2f ws1c1"> option to cho<span class="_ _e"></span>ose, you’ll need to prompt</span></div><div class="t m0 x44 h15 y962 ff4 fsb fc3 sc0 ls1c ws10">the user for this bookmark data.</div><div class="t m0 x32 h15 y3fa ff4 fsb fc3 sc0 ls36 ws20b"> Here’s another opportunity to encapsulat<span class="ls34 ws185">e some behavior. For each piece of infor-</span></div><div class="t m0 x44 h15 y1002 ff4 fsb fc3 sc0 ls4e ws3e">mation you need, you should</div><div class="t m0 xbc h3d y1003 ffb fs1e fca sc0 ls6 ws0">1</div><div class="t m0 x87 h15 y125 ff4 fsb fc3 sc0 ls8d ws46c">Prompt the user wi<span class="_ _e"></span>th a label—“Title” or “Descri<span class="_ _e"></span>ption”, for example</div><div class="t m0 xbc h3d y1004 ffb fs1e fca sc0 ls6 ws0">2</div><div class="t m0 x87 h15 yee8 ff4 fsb fc3 sc0 ls30 wsef">If the information is required and the <span class="ls1c ws3e2">user presses Enter without entering any</span></div><div class="t m0 x87 h15 yd11 ff4 fsb fc3 sc0 lsbc ws41f">info, keep prompting<span class="_ _e"></span> them</div><div class="t m0 x44 h15 y1005 ff4 fsb fc3 sc0 ls48 ws790">Write three functions—one<span class="_ _e"></span> to provide the re<span class="ls3d ws232">peating prompt behavior, and two that use</span></div><div class="t m0 x44 h15 y27b ff4 fsb fc3 sc0 ls63 ws791">it to get <span class="_ _e"></span>information for <span class="_ _e"></span>adding or deleti<span class="_ _e"></span><span class="ls34 ws2c6">ng a bookmark. Then <span class="_ _0"></span>add each information-</span></div><div class="t m0 x44 h15 y494 ff4 fsb fc3 sc0 ls3e ws792">fetching function as the </div><div class="t m5 xe2 h24 y914 ffd fsc fc3 sc0 lsa0 ws0">prep_call</div><div class="t m0 x10b h15 y494 ff4 fsb fc3 sc0 ls1c ws127"> to the appropriate </div><div class="t m5 x2d h24 y914 ffd fsc fc3 sc0 lsa0 ws0">Option</div><div class="t m0 x123 h15 y494 ff4 fsb fc3 sc0 ls30 ws32c"> instance. Check your</div><div class="t m0 x44 h15 y260 ff4 fsb fc3 sc0 ls7d ws12a">results against the follow<span class="_ _e"></span>ing listing to see how you did, or if you <span class="_ _e"></span>get stuck.</div><div class="t m0 x44 h3b y1006 ffd fs18 fc3 sc0 lsb2 ws0">def<span class="_"> </span>get_user_input(label,<span class="_"> </span>required=True):</div><div class="t m0 xae h3b y1007 ffd fs18 fc3 sc0 lsb2 ws0">value<span class="_"> </span>=<span class="_"> </span>input(f&apos;{label}:<span class="_"> </span>&apos;)<span class="_"> </span>or<span class="_"> </span>None</div><div class="t m0 xae h3b y1008 ffd fs18 fc3 sc0 lsb2 ws0">while<span class="_"> </span>required<span class="_"> </span>and<span class="_"> </span>not<span class="_"> </span>value:</div><div class="t m0 x97 h3b y1009 ffd fs18 fc3 sc0 lsb2 ws0">value<span class="_"> </span>=<span class="_"> </span>input(f&apos;{label}:<span class="_"> </span>&apos;)<span class="_"> </span>or<span class="_"> </span>None</div><div class="t m0 xae h3b y100a ffd fs18 fc3 sc0 lsb2 ws0">return<span class="_"> </span>value</div><div class="t m0 x44 h3b y100b ffd fs18 fc3 sc0 lsb2 ws0">def<span class="_"> </span>get_new_bookmark_data():</div><div class="t m0 xae h3b y100c ffd fs18 fc3 sc0 lsb2 ws0">return<span class="_"> </span>{</div><div class="t m0 x97 h3b y100d ffd fs18 fc3 sc0 lsb2 ws0">&apos;title&apos;:<span class="_"> </span>get_user_input(&apos;Title&apos;),</div><div class="t m0 x97 h3b y100e ffd fs18 fc3 sc0 lsb2 ws0">&apos;url&apos;:<span class="_"> </span>get_user_input(&apos;URL&apos;),</div><div class="t m0 x97 h3b y100f ffd fs18 fc3 sc0 lsb2 ws0">&apos;notes&apos;:<span class="_"> </span>get_user_input(&apos;Notes&apos;,<span class="_"> </span>required=False),</div><div class="t m0 xae h3b y1010 ffd fs18 fc3 sc0 ls6 ws0">}</div><div class="t m0 x44 h3b y1011 ffd fs18 fc3 sc0 lsb2 ws0">def<span class="_"> </span>get_bookmark_id_for_deletion():</div><div class="t m0 xae h3b y1012 ffd fs18 fc3 sc0 lsb2 ws0">return<span class="_"> </span>get_user_input(&apos;Enter<span class="_"> </span>a<span class="_"> </span>bookmark<span class="_"> </span>ID<span class="_"> </span>to<span class="_"> </span>delete&apos;)</div><div class="t m0 x44 h3b y1013 ffd fs18 fc3 sc0 lsb2 ws0">if<span class="_"> </span>__name__<span class="_"> </span>==<span class="_"> </span>&apos;__main__&apos;:</div><div class="t m0 x18 h20 y1014 ffb fs7 fc4 sc0 ls6 ws0">Gathering bookmark information from the us<span class="_ _0"></span>er<span class="_ _b5"></span>Listing<span class="_"> </span>6.14</div><div class="c xc8 y1015 w62 he5"><div class="t m0 x128 h14 y1016 ff12 fs7 fcb sc0 ls170 ws749">Gets a<span class="ff13 ls6 ws0">n</span></div><div class="t m0 x127 h14 y1017 ff12 fs7 fcb sc0 ls6 ws0">i<span class="ff13">n</span><span class="ls100">itial</span></div><div class="t m0 x126 h14 y1018 ff12 fs7 fcb sc0 ls105 ws0">choice</div><div class="t m0 xfd h14 y1019 ff12 fs7 fcb sc0 ls6 ws0">f<span class="ff13">r</span>o<span class="ff13">m</span><span class="lsde ws3cf"> the</span></div><div class="t m0 x11a h14 y101a ff12 fs7 fcb sc0 lsff ws0">use<span class="ff13 ls6">r</span></div></div><div class="c xee y101b w7a ha0"><div class="t m0 x42 h14 yf25 ff12 fs7 fcb sc0 ls102 ws319">While the use<span class="ff13 ls6 ws0">r<span class="ff12 ls127">’s </span></span></div><div class="t m0 x42 h14 yf26 ff12 fs7 fcb sc0 lsdc ws793">choice is i<span class="ff13 ls6 ws0">n</span><span class="lsd5 ws794">valid, keep </span></div><div class="t m0 x42 h14 yf27 ff12 fs7 fcb sc0 ls6 ws0">p<span class="ff13">r</span>o<span class="ff13">m</span><span class="lsd5">pti</span><span class="ff13">n</span><span class="ls18d ws691">g the</span><span class="ff13">m</span>.</div></div><div class="c xe y101c w7a he6"><div class="t m0 x42 h14 y51b ff12 fs7 fcb sc0 ls19d ws0">Retu<span class="ff13 ls123">rn</span><span class="lsdc ws650">s the </span><span class="ff13 ls6">m</span><span class="ls10f">atchi<span class="ff13 ls6">n</span><span class="lsdd">g </span></span></div><div class="t m0 x42 h14 y101d ff12 fs7 fcb sc0 ls102 ws0">optio<span class="ff13 ls6">n</span><span class="lse1"> o<span class="ff13 ls6">n</span><span class="ls13c ws46f">ce they’ve </span></span></div><div class="t m0 x42 h14 y101e ff13 fs7 fcb sc0 ls6 ws0">m<span class="ff12 lsd6 ws3da">ade a valid choice</span></div></div><div class="c x6d y101f w7b he7"><div class="t m0 xfb h14 y1020 ff12 fs7 fcb sc0 lsd9 ws2ce">A ge<span class="ff13 ls6 ws0">n<span class="ff12">e</span>r</span><span class="ls100 ws316">al fu<span class="ff13 ls6 ws0">n<span class="ff12 lsf2">ctio</span>n</span><span class="ls103 ws31b"> fo<span class="ff13 ls6 ws0">r<span class="ff12"> </span></span></span></span></div><div class="t m0 xfb h14 y1021 ff12 fs7 fcb sc0 ls6 ws0">p<span class="ff13">r</span>o<span class="ff13">m</span><span class="lsd5">pti</span><span class="ff13">n</span><span class="ls123 ws795">g use</span><span class="ff13">r</span><span class="ls127 ws505">s fo</span><span class="ff13">r</span><span class="lse1"> i</span><span class="ff13">n</span><span class="ls10c">put</span></div></div><div class="c x125 y1022 w7c h58"><div class="t m0 xfb h14 y1023 ff12 fs7 fcb sc0 ls113 ws0">Gets </div><div class="t m0 xfb h14 y1024 ff12 fs7 fcb sc0 ls6 ws0">i<span class="ff13">n</span><span class="ls145">itial </span></div><div class="t m0 xfb h14 yf26 ff12 fs7 fcb sc0 lsff ws0">use<span class="ff13 ls6">r<span class="ff12"> </span></span></div><div class="t m0 xfb h14 yf27 ff12 fs7 fcb sc0 ls6 ws0">i<span class="ff13">n</span><span class="ls10c">put</span></div></div><div class="c x6a y1025 w7d hcb"><div class="t m0 x42 h14 y1026 ff12 fs7 fcb sc0 lsd2 ws0">Co<span class="ff13 ls6">n</span><span class="ls146">ti<span class="ff13 ls6">n</span><span class="ls10e ws55a">ues p</span><span class="ff13 ls6">r<span class="ff12">o</span>m</span><span class="lsd5">pti<span class="ff13 ls6">n</span><span class="lsda ws2aa">g while </span></span></span></div><div class="t m0 x42 h14 y690 ff12 fs7 fcb sc0 ls105 ws327">the i<span class="ff13 ls6 ws0">n</span><span class="lsec ws45e">put is e<span class="ff13 ls6 ws0">m</span><span class="ls102 ws3cd">pty, if <span class="ff13 ls6 ws0">r<span class="ff12 ls125">equi</span>r<span class="ff12">ed</span></span></span></span></div></div><div class="c x12d y1027 w6a h61"><div class="t m0 x42 h14 yf2c ff12 fs7 fcb sc0 ls122 ws0">Fu<span class="ff13 ls6">n</span><span class="lse4">ctio<span class="ff13 ls6">n</span><span class="lsff ws38b"> to get the </span><span class="ff13 ls6">n</span><span class="lsd9">ecessa<span class="ff13 ls6">r</span><span class="lsd3">y </span></span></span></div><div class="t m0 x42 h14 yf2d ff12 fs7 fcb sc0 lsd3 ws3a4">data fo<span class="ff13 ls6 ws0">r</span><span class="lse4 ws318"> addi<span class="ff13 ls6 ws0">n<span class="ff12 lse1">g a </span>n</span><span class="ls117 ws796">ew boo<span class="_ _e"></span>k<span class="ff13 ls6 ws0">m<span class="ff12">a</span>r<span class="ff12">k</span></span></span></span></div></div><div class="c xa2 y1028 w7e he8"><div class="t m0 x42 h14 y1029 ff12 fs7 fcb sc0 ls100 ws0">The <span class="ff13 ls6">n</span><span class="ls14d ws4ec">otes fo</span><span class="ff13 ls6">r<span class="_ _0"></span><span class="ff12 lse3 ws2b1"> a </span></span></div><div class="t m0 x42 h14 y102a ff12 fs7 fcb sc0 lsd6 ws0">book<span class="ff13 ls6">m<span class="ff12">a</span>r</span><span class="ls14e ws74a">k a</span><span class="ff13 ls6">r</span><span class="ls117">e </span></div><div class="t m0 x42 h14 y102b ff12 fs7 fcb sc0 ls150 ws0">optio<span class="ff13 ls6">n</span><span class="lse4 ws318">al, so do</span><span class="ff13 ls6">n</span><span class="lsef">’t </span></div><div class="t m0 x42 h14 y102c ff12 fs7 fcb sc0 lsd5 ws2a6">keep p<span class="ff13 ls6 ws0">r<span class="ff12">o</span>m</span><span class="ws0">pti<span class="ff13 ls6">n</span><span class="lse1">g.</span></span></div></div><div class="c xee y102d w7f hd4"><div class="t m0 x42 h14 y102e ff12 fs7 fcb sc0 lsff ws315">Gets the <span class="ff13 ls6 ws0">n<span class="ff12 ls11a">ecessa</span>r<span class="ff12 lsd3">y </span></span></div><div class="t m0 x42 h14 y102f ff12 fs7 fcb sc0 ls6 ws0">i<span class="ff13">n</span><span class="ls123">fo<span class="ff13">rm</span><span class="ls10f">atio</span></span><span class="ff13">n</span><span class="ls123 ws795"> fo</span><span class="ff13">r</span> </div><div class="t m0 x42 h14 y1030 ff12 fs7 fcb sc0 lsff ws0">deleti<span class="ff13 ls6">n</span><span class="lsfc ws30f">g a book</span><span class="ff13 ls6">m<span class="ff12">a</span>r<span class="ff12">k</span></span></div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
