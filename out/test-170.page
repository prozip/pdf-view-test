<div id="pfaa" class="pf w0 h0" data-page-no="aa"><div class="pc pcaa w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bgf0.png"/><div class="t m0 x42 h14 y80 ff7 fs7 fcb sc0 ls6 ws0">146</div><div class="t m0 x17 h2b y1cf ffb fs18 fcb sc0 ls6 ws0">C</div><div class="t m0 xa7 h2c y1d0 ffb fs19 fcb sc0 lsf6 ws0">HAPTER</div><div class="t m0 xba h2b y1cf ffb fs18 fcb sc0 ls8c ws0"> 8</div><div class="t m0 xe7 h2d y80 ffa fs7 fcb sc0 ls6 ws0">The rules (and exceptions) of inheritance</div><div class="t m0 x44 h15 y40 ff4 fsb fc3 sc0 ls6 ws84a">we do as develope<span class="_ _e"></span>rs should increase ou<span class="ls2d ws103">r understanding and reduce cognitive load;</span></div><div class="t m0 x44 h15 y41 ff4 fsb fc3 sc0 ls4e ws1e3">deep hierarchies work<span class="_ _e"></span><span class="ls36 ws35"> against this goal. So why are we still using inheritance?</span></div><div class="t m0 x44 h1f y1245 ffc fs13 fc2 sc0 lsc0 ws84b">The inheritance of<span class="_ _c8"></span>8<span class="_ _0"></span>.<span class="_ _1d"></span>2<span class="_ _c9"> </span><span class="ls1e8 ws84c"> programming present</span></div><div class="t m0 x44 h15 y44 ff4 fsb fc3 sc0 ls48 ws432">Because of the pains caused by complicated<span class="_ _e"></span><span class="ls51 wsd2"> hierarchies, inherita<span class="_ _0"></span>nce has gotten a bad</span></div><div class="t m0 x44 h15 y45 ff4 fsb fc3 sc0 ls51 ws23d">reputation. It isn’t innately evil, though. It<span class="ls20 ws57d">’s simply been used too often and for <span class="_ _e"></span>the</span></div><div class="t m0 x44 h15 y46 ff4 fsb fc3 sc0 ls2f ws23">wrong reasons.</div><div class="t m0 x44 h26 y233 ffc fs15 fc2 sc0 ls1cb ws76a">What is inheri<span class="_ _ca"></span>8<span class="_ _0"></span>.<span class="_ _0"></span>2<span class="_ _0"></span>.<span class="_ _0"></span>1<span class="_ _cb"> </span><span class="lsad ws7ba">tance for, really?</span></div><div class="t m0 x44 h15 y49 ff4 fsb fc3 sc0 ls38 ws3dd">Though many still reach for inheritance to <span class="ls1e ws145">reuse code <span class="_ _e"></span>in some class, that’s not what</span></div><div class="t m0 x44 h15 y4a ff4 fsb fc3 sc0 ls20 ws178">it’s for. Inheritance is for <span class="ff3 ls42 ws1ad">specialization of behavior</span><span class="ls48 ws84d">. Put another <span class="_ _e"></span>way, you should fight the</span></div><div class="t m0 x44 h15 y4b ff4 fsb fc3 sc0 ls79 wsa6">urge to subclass only to reuse code<span class="_ _e"></span>. Create<span class="ls31 wsb5"> subclasses to make a method return a dif-</span></div><div class="t m0 x44 h15 y14b ff4 fsb fc3 sc0 ls80 wsff">ferent value or work d<span class="_ _e"></span>i<span class="ls20 ws51">fferently under the hood.</span></div><div class="t m0 x32 h15 y4d ff4 fsb fc3 sc0 ls31 ws5f4"> In this sense, subclasses should be treated as <span class="ff3 ls70 ws651">special cases</span><span class="ls51 wsbf"> of their superclass. <span class="_ _e"></span>They</span></div><div class="t m0 x44 h15 y4e ff4 fsb fc3 sc0 ls51 ws2de">will reuse code from the superclass, but only<span class="ls34 ws4c6"> as a natural result of the idea that an</span></div><div class="t m0 x44 h15 y4f ff4 fsb fc3 sc0 ls3a ws1e0">instance of the subclass <span class="ff3 ls50 ws0">is</span><span class="ls2f ws26a"> an instance of the s<span class="_ _0"></span>uperclass.</span></div><div class="t m0 x32 h15 y50 ff4 fsb fc3 sc0 ls2f ws26"> When a class <span class="ff3 ls6 ws0">B</span><span class="ls71 wsd4"> inherits from a class <span class="ff3 ls6 ws0">A</span><span class="ls30 ws36">, w<span class="_ _e"></span>e often say <span class="ff3 ls6 ws0">B</span><span class="ls1e ws16"> “is-an” <span class="ff3 ls6 ws0">A</span></span>. This is to stress that</span></span></div><div class="t m0 x44 h15 yed ff4 fsb fc3 sc0 ls63 ws84e">instances o<span class="_ _e"></span>f <span class="ff3 ls6 ws0">B</span><span class="lsb0 ws440"> are in fact inst<span class="_ _e"></span>ances of <span class="ff3 ls6 ws0">A</span><span class="ls2e ws55e">, and as such should look like an <span class="ff3 ls6 ws0">A</span><span class="ls48 ws207"> (more on</span></span></span></div><div class="t m0 x44 h15 y52 ff4 fsb fc3 sc0 ls1e ws7d2">this in a bit). Contrast this with composition, where if an instance of class <span class="ff3 ls6 ws0">C</span><span class="ls2f ws3d4"> uses an</span></div><div class="t m0 x44 h15 y53 ff4 fsb fc3 sc0 ls2f ws33e">instance of a class <span class="ff3 ls6 ws0">D</span><span class="ls3d ws476">, we say that <span class="ff3 ls6 ws0">C</span><span class="ls20 ws43e"> “has-a” <span class="ff3 ls6 ws0">D</span></span> to emphasize<span class="_ _e"></span> that <span class="ff3 ls6 ws0">C<span class="ff4 lsc4"> i<span class="_ _25"></span>s<span class="_ _25"></span> c<span class="_ _1c"></span>o<span class="_ _25"></span>m<span class="_ _1c"></span>p<span class="_ _25"></span>o<span class="_ _1c"></span>s<span class="_ _25"></span>e<span class="_ _1c"></span>d<span class="_ _25"></span> o<span class="_ _1c"></span>f<span class="_ _1c"></span> <span class="ff3 ls6">D</span></span></span></span></div><div class="t m0 x44 h15 y54 ff4 fsb fc3 sc0 ls2f ws23">(among other things, potentially).</div><div class="t m0 x32 h15 y55 ff4 fsb fc3 sc0 ls3a ws18c"> Think back to the </div><div class="t m5 xf2 h24 y435 ffd fsc fc3 sc0 lsa0 ws0">Bicycle</div><div class="t m0 x101 h15 y199 ff4 fsb fc3 sc0 ls6c ws84f"> example in the <span class="_ _0"></span>last chapte<span class="ls35 ws30d">r. You i<span class="_ _0"></span>ntroduced multiple</span></div><div class="t m0 x44 h15 y19a ff4 fsb fc3 sc0 ls1f wsa3">types of bicycle frames, up<span class="_ _0"></span>grading the </div><div class="t m5 xa5 h24 y436 ffd fsc fc3 sc0 lsa0 ws0">AluminumFram<span class="_ _e"></span>e</div><div class="t m0 xf8 h15 y19a ff4 fsb fc3 sc0 ls3d ws333"> to a </div><div class="t m5 x49 h24 y436 ffd fsc fc3 sc0 lsa0 ws0">CarbonFiber<span class="_ _e"></span>Frame</div><div class="t m0 xab h15 y19a ff4 fsb fc3 sc0 ls25 ws25b"> and the</div><div class="t m5 x44 h24 y1246 ffd fsc fc3 sc0 lsa0 ws0">Tire</div><div class="t m0 xae h15 y57 ff4 fsb fc3 sc0 ls5e ws4bf"> to a </div><div class="t m5 x90 h24 y1246 ffd fsc fc3 sc0 lsa0 ws0">FancyTire</div><div class="t m0 xd1 h15 y57 ff4 fsb fc3 sc0 ls6c ws850">. Suppose that </div><div class="t m5 xc h24 y1246 ffd fsc fc3 sc0 lsa0 ws0">CarbonFiberF<span class="_ _e"></span>rame</div><div class="t m0 x26 h15 y57 ff4 fsb fc3 sc0 ls5f ws834"> and </div><div class="t m5 x104 h24 y1246 ffd fsc fc3 sc0 lsa0 ws0">FancyTire</div><div class="t m0 x95 h15 y57 ff4 fsb fc3 sc0 ls44 ws51f"> inherited from</div><div class="t m5 x44 h24 y1247 ffd fsc fc3 sc0 lsa0 ws0">Frame</div><div class="t m0 x8b h15 y58 ff4 fsb fc3 sc0 ls4e ws56c"> and </div><div class="t m5 x36 h24 y1247 ffd fsc fc3 sc0 lsa0 ws0">Tire</div><div class="t m0 x18 h15 y58 ff4 fsb fc3 sc0 ls2d wsbc">, respectively. Which of the followin<span class="_ _0"></span><span class="ls5f ws34c">g could be said about the way you</span></div><div class="t m0 x44 h15 y437 ff4 fsb fc3 sc0 ls36 ws35">modeled bicycles using inheritance and composition?</div><div class="t m0 xbc h3d y1248 ffb fs1e fca sc0 ls6 ws0">1</div><div class="t m0 x87 h15 y41e ff4 fsb fc3 sc0 ls2e ws0">A </div><div class="t m5 x48 h24 y41f ffd fsc fc3 sc0 lsa0 ws0">Tire</div><div class="t m0 x1c h15 y41e ff4 fsb fc3 sc0 ls1f ws45"> has-a </div><div class="t m5 x3a h24 y41f ffd fsc fc3 sc0 lsa0 ws0">Bicycle</div><div class="t m0 x116 h15 y41e ff4 fsb fc3 sc0 ls6 ws0">.</div><div class="t m0 xbc h3d y1249 ffb fs1e fca sc0 ls6 ws0">2</div><div class="t m0 x87 h15 ybf2 ff4 fsb fc3 sc0 ls2e ws0">A </div><div class="t m5 x48 h24 y124a ffd fsc fc3 sc0 lsa0 ws0">Bicycle</div><div class="t m0 x17 h15 ybf2 ff4 fsb fc3 sc0 ls71 wsd4"> has-a </div><div class="t m5 x92 h24 y124a ffd fsc fc3 sc0 lsa0 ws0">Tire</div><div class="t m0 x116 h15 ybf2 ff4 fsb fc3 sc0 ls6 ws0">.</div><div class="t m0 xbc h3d y124b ffb fs1e fca sc0 ls6 ws0">3</div><div class="t m0 x87 h15 y124c ff4 fsb fc3 sc0 ls2e ws0">A </div><div class="t m5 x48 h24 y124d ffd fsc fc3 sc0 lsa0 ws0">CarbonFiberF<span class="_ _e"></span>rame</div><div class="t m0 xb6 h15 y124c ff4 fsb fc3 sc0 ls3a ws28"> is-a </div><div class="t m5 x56 h24 y124d ffd fsc fc3 sc0 lsa0 ws0">Frame</div><div class="t m0 xa9 h15 y124c ff4 fsb fc3 sc0 ls6 ws0">.</div><div class="t m0 xbc h3d y124e ffb fs1e fca sc0 ls6 ws0">4</div><div class="t m0 x87 h15 y294 ff4 fsb fc3 sc0 ls2e ws0">A </div><div class="t m5 x48 h24 y1189 ffd fsc fc3 sc0 lsa0 ws0">CarbonFiberF<span class="_ _e"></span>rame</div><div class="t m0 xb6 h15 y294 ff4 fsb fc3 sc0 ls71 wsd4"> has-a </div><div class="t m5 xfe h24 y1189 ffd fsc fc3 sc0 lsa0 ws0">Frame</div><div class="t m0 x84 h15 y294 ff4 fsb fc3 sc0 ls6 ws0">.</div><div class="t m0 x44 h15 ya33 ff4 fsb fc3 sc0 ls48 ws609">Because a tire isn’t composed of a bike (i<span class="ls51 ws34a">t’s the other way around), 1 is incorrect,</span></div><div class="t m0 x44 h15 ya3 ff4 fsb fc3 sc0 ls2d ws103">whereas 2 makes sense—that’s compositio<span class="ls20 ws3ea">n. And because a carbon fiber frame <span class="ff3 ls50 ws0">is<span class="ff4 ls176"> a</span></span></span></div><div class="t m0 x44 h15 y6d8 ff4 fsb fc3 sc0 ls48 ws3f5">frame (it doesn’t <span class="ff3 ls20 ws0">have<span class="ff4 ws244"> a frame), 4 is also incorrec<span class="ls31 ws64d">t, whereas 3 makes sense—that’s</span></span></span></div><div class="t m0 x44 h15 y6d9 ff4 fsb fc3 sc0 ls2d ws4f5">inheritance. Again, inheritance is <span class="_ _0"></span>for specialization, whereas composition is for reus-</div><div class="t m0 x44 h15 y6da ff4 fsb fc3 sc0 ls6c ws6f">able behaviors (fig<span class="_ _0"></span>ure 8.3).</div><div class="t m0 x32 h15 yc74 ff4 fsb fc3 sc0 ls1e ws370"> Using inheritance to specialize behavior <span class="_ _0"></span><span class="ls42 ws562">is only the first step. Think about how</span></div><div class="t m0 x44 h15 yc76 ff4 fsb fc3 sc0 ls7f ws0">y<span class="_ _1c"></span>o<span class="_ _1d"></span>u<span class="_ _1d"></span>’<span class="_ _1d"></span>r<span class="_ _1c"></span>e<span class="_ _1d"></span> a<span class="_ _1d"></span>b<span class="_ _1d"></span>l<span class="_ _1d"></span>e<span class="_ _1c"></span> t<span class="_ _1d"></span>o<span class="_ _1d"></span> s<span class="_ _1d"></span>w<span class="_ _1d"></span>a<span class="_ _1c"></span>p<span class="_ _1d"></span> i<span class="_ _1d"></span>n<span class="_ _1d"></span> a<span class="_ _1c"></span> <span class="_ _e"></span>c<span class="_ _1c"></span>a<span class="_ _1d"></span>r<span class="_ _1d"></span>b<span class="_ _1c"></span>o<span class="_ _1d"></span>n<span class="_ _1d"></span> f<span class="_ _1d"></span>i<span class="_ _1c"></span>b<span class="_ _1d"></span>e<span class="_ _1d"></span>r<span class="_ _1d"></span> f<span class="_ _1d"></span>r<span class="_ _1c"></span><span class="ls34 ws323">ame to replace the aluminum<span class="_ _e"></span> frame on your</span></div><div class="t m0 x44 h15 y168 ff4 fsb fc3 sc0 ls4e ws1e3">bike. You can do this because each fram<span class="_ _e"></span>e <span class="ls42 ws32">has the same connection points. Without all</span></div><div class="t m0 x44 h15 y124f ff4 fsb fc3 sc0 ls3d ws851">the right connections, your bike could fall<span class="ls2d ws852"> apart. The <span class="_ _e"></span>same can be said of your</span></div><div class="t m0 x44 h15 y1250 ff4 fsb fc3 sc0 ls3d ws0">software. </div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
