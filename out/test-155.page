<div id="pf9b" class="pf w0 h0" data-page-no="9b"><div class="pc pc9b w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg9b.png"/><div class="t m0 xa0 h14 y80 ff7 fs7 fcb sc0 ls6 ws0">131<span class="_ _b7"></span><span class="ffa">What is extensible code?</span></div><div class="t m0 x35 h15 y40 ff4 fsb fc3 sc0 ls3b ws70">should be made. And if the<span class="_ _e"></span> change you want to make applies to the body of e<span class="_ _e"></span>ach con-</div><div class="t m0 x35 h15 y41 ff4 fsb fc3 sc0 ls30 ws36">ditional, you’ll need to apply the ch<span class="_ _e"></span>ange many times over.</div><div class="t m0 x35 h3b y10aa ffd fs18 fc3 sc0 lsb2 ws0">if<span class="_"> </span>choice<span class="_"> </span>==<span class="_"> </span>&apos;A&apos;:</div><div class="t m0 x87 h3b y10ab ffd fs18 fc3 sc0 lsb2 ws0">print(&apos;A<span class="_"> </span>is<span class="_"> </span>for<span class="_"> </span>apples&apos;)</div><div class="t m0 x35 h3b y10ac ffd fs18 fc3 sc0 lsb2 ws0">elif<span class="_"> </span>choice<span class="_"> </span>==<span class="_"> </span>&apos;B&apos;:</div><div class="t m0 x87 h3b y10ad ffd fs18 fc3 sc0 lsb2 ws0">print(&apos;B<span class="_"> </span>is<span class="_"> </span>for<span class="_"> </span>bats&apos;)</div><div class="t m0 x35 h3b y10ae ffd fs18 fc1 sc0 lsb2 ws0">...</div><div class="t m0 x35 h15 y10af ff4 fsb fc3 sc0 ls6f ws52b">How could this be improved?</div><div class="t m0 x8a h3d y10b0 ffb fs1e fca sc0 ls6 ws0">1</div><div class="t m0 x48 h15 y10b1 ff4 fsb fc3 sc0 lsae ws471">Extract informatio<span class="_ _0"></span>n from the conditio<span class="_ _0"></span>nal checks and bodies into a </div><div class="t m5 x107 h24 y10b2 ffd fsc fc3 sc0 lsa0 ws0">dict</div><div class="t m0 xda h15 y10b1 ff4 fsb fc3 sc0 ls6 ws0">.</div><div class="t m0 x8a h3d y10b3 ffb fs1e fca sc0 ls6 ws0">2</div><div class="t m0 x48 h15 y10b4 ff4 fsb fc3 sc0 ls71 wsd4">Use a </div><div class="t m5 x37 h24 y10b5 ffd fsc fc3 sc0 lsa0 ws0">for</div><div class="t m0 xa7 h15 y10b4 ff4 fsb fc3 sc0 ls1e ws16"> loop to check against <span class="ls2f ws23">each available choice.</span></div><div class="t m0 x35 h15 y10b6 ff4 fsb fc3 sc0 ls2d ws31">Because each choice maps to <span class="_ _0"></span>a specific ou<span class="ls3a ws4b7">tcome, extracting the mapping of be<span class="_ _e"></span>haviors</span></div><div class="t m0 x35 h15 y10b7 ff4 fsb fc3 sc0 ls1e ws7d2">into a dictionary (option 1) <span class="_ _0"></span>would be the right approach. By mapping <span class="_ _0"></span>the letter for</div><div class="t m0 x35 h15 y10b8 ff4 fsb fc3 sc0 ls1c ws23a">the choice to the word that goes in the message, a new version of the code can retrieve</div><div class="t m0 x35 h15 y10b9 ff4 fsb fc3 sc0 ls30 ws1ef">the right word from the <span class="_ _e"></span>mapping regardless <span class="ls31 ws213">of the choice picked. You no longer need</span></div><div class="t m0 x35 h15 y10ba ff4 fsb fc3 sc0 ls2f wsce">to keep adding </div><div class="t m5 x7e h24 y10bb ffd fsc fc3 sc0 lsa0 ws0">elif</div><div class="t m0 xba h15 y10ba ff4 fsb fc3 sc0 ls42 ws105"> statements to a conditional and defining the behavior for the</div><div class="t m0 x35 h15 y10bc ff4 fsb fc3 sc0 ls31 ws261">new case. You can instead add a single new <span class="ls20 ws1bc">mapping from the chosen letter to the</span></div><div class="t m0 x35 h15 y10bd ff4 fsb fc3 sc0 ls7c ws0">wo<span class="_ _e"></span>rd<span class="_ _e"></span> yo<span class="_ _e"></span>u’<span class="_ _e"></span>ll<span class="_ _e"></span> use<span class="_ _e"></span> in<span class="_ _e"></span> th<span class="_ _e"></span>e m<span class="_ _e"></span>es<span class="_ _e"></span>sa<span class="_ _e"></span>ge<span class="_ _e"></span>, p<span class="_ _e"></span>rin<span class="_ _e"></span>ti<span class="_ _e"></span>ng<span class="_ _e"></span> on<span class="_ _e"></span>ly<span class="_ _e"></span> at<span class="_ _e"></span> the<span class="_ _e"></span> en<span class="_ _e"></span>d,<span class="_ _e"></span> as<span class="_ _e"></span> in<span class="_ _e"></span> li<span class="_ _e"></span>st<span class="_ _e"></span>ing<span class="_ _e"></span> 7<span class="_ _e"></span>.2.<span class="_ _e"></span> Th<span class="_ _e"></span>e m<span class="_ _e"></span>ap<span class="_ _e"></span>pi<span class="_ _e"></span>ng</div><div class="t m0 x35 h15 y10be ff4 fsb fc3 sc0 ls38 ws7d3">of choices to messages acts like <span class="ff3 ls192 ws0">configurat<span class="_ _0"></span>ion<span class="ff4 ls30 ws7d4">—information a program uses to</span></span></div><div class="t m0 x35 h15 y10bf ff4 fsb fc3 sc0 ls30 ws7d5">determine how to execute. Configuratio<span class="ls31 ws7d6">n is often easier to understand than</span></div><div class="t m0 x35 h15 y10c0 ff4 fsb fc3 sc0 ls44 ws34">conditional logic.</div><div class="t m0 x35 h3b y10c1 ffd fs18 fc3 sc0 lsb2 ws0">choices<span class="_"> </span>=<span class="_"> </span>{</div><div class="t m0 x87 h3b y10c2 ffd fs18 fc3 sc0 lsb2 ws0">&apos;A&apos;:<span class="_"> </span>&apos;apples&apos;,</div><div class="t m0 x87 h3b y10c3 ffd fs18 fc3 sc0 lsb2 ws0">&apos;B&apos;:<span class="_"> </span>&apos;bats&apos;,</div><div class="t m0 x87 h3b y10c4 ffd fs18 fc3 sc0 lsb2 ws0">...</div><div class="t m0 x35 h3b y10c5 ffd fs18 fc3 sc0 ls6 ws0">}</div><div class="t m0 x35 h3b y2de ffd fs18 fc3 sc0 lsb2 ws0">print(f&apos;{choice}<span class="_"> </span>is<span class="_"> </span>for<span class="_"> </span>{choices[choice]}&apos;)</div><div class="t m0 x35 h15 y10c6 ff4 fsb fc3 sc0 ls51 ws12d">This version of the code is more readable<span class="ls34 ws9d">. Whereas the example in listing 7.1 required</span></div><div class="t m0 x35 h15 y10c7 ff4 fsb fc3 sc0 ls25 ws2b9">you to understand the conditions and what each condition does, the version here is</div><div class="t m0 x35 h15 y10c8 ff4 fsb fc3 sc0 ls31 ws7e">more clearly structured as a <span class="ls71 ws160">set of choices and a line that<span class="ls78 ws7d7"> prints info<span class="_ _e"></span>rmation about a</span></span></div><div class="t m0 x35 h15 y10c9 ff4 fsb fc3 sc0 ls2c ws7d8">specific choice. Add<span class="_ _0"></span>ing more choices and <span class="ls38 ws305">changing the message that gets printed is</span></div><div class="t m0 x35 h15 y10ca ff4 fsb fc3 sc0 ls20 ws178">also easier, because they’ve been separated. Th<span class="ls8d ws7d9">is is all<span class="_ _e"></span> in the pursuit of loose cou<span class="_ _e"></span>pling. </span></div><div class="t m0 x19 h26 y10cb ffc fs15 fc2 sc0 ls110 ws42b">7.1.3<span class="_ _5f"> </span>L<span class="_ _e"></span>o<span class="_ _e"></span>o<span class="_ _e"></span>se<span class="_ _e"></span> c<span class="_ _e"></span>o<span class="_ _e"></span>up<span class="_ _e"></span>l<span class="_ _e"></span>in<span class="_ _e"></span>g</div><div class="t m0 x35 h15 y10cc ff4 fsb fc3 sc0 ls44 ws297">Above all, extensibility arises from l<span class="_ _0"></span>oosel<span class="ls71 ws2f6">y coupled systems. Wi<span class="ls3d ws7da">thout loose coupling,</span></span></div><div class="t m0 x35 h15 y10cd ff4 fsb fc3 sc0 ls71 ws243">most changes in a system will require th<span class="ls2d ws14e">e shotgun surgery variety of development.</span></div><div class="t m0 x35 h15 y10ce ff4 fsb fc3 sc0 ls2e ws4d">Suppose you’d written Bar<span class="_ _0"></span>k without the layers<span class="ls48 ws39"> of abstraction around the database and</span></div><div class="t m0 x17 h20 y10cf ffb fs7 fc4 sc0 ls6 ws0">A rigid mapping of conditions to outcomes<span class="_ _b9"></span>Listing<span class="_"> </span>7.1</div><div class="t m0 x17 h20 y10d0 ffb fs7 fc4 sc0 ls6 ws0">A more flexible way to map conditions to outc<span class="_ _0"></span>omes<span class="_ _ba"></span>Listing<span class="_"> </span>7.2</div><div class="c x116 y10d1 w85 h43"><div class="t m0 xf5 h14 y2f2 ff12 fs7 fcb sc0 lsec ws4f0">This co<span class="ff13 ls6 ws0">n<span class="ff12 lsd5">ditio</span>n<span class="ff12 ls170">al </span>n</span><span class="lsd9 ws7db">eeds to be </span></div><div class="t m0 xf5 h14 y9b4 ff12 fs7 fcb sc0 lsdc ws2ac">updated p<span class="ff13 ls6 ws0">r<span class="ff12 ls124">ope</span>r</span><span class="ls88 ws2d0">ly fo<span class="ff13 ls6 ws0">r</span><span class="ls13c ws46f"> each choice.</span></span></div></div><div class="c xca y10d2 w86 h7a"><div class="t m0 xc8 h14 y75f ff12 fs7 fcb sc0 lsd5 ws2a6">The co<span class="ff13 ls6 ws0">n<span class="ff12">ce</span><span class="ls123">rn</span></span><span class="lsd8 ws2a9">s of <span class="ff13 ls6 ws0">m<span class="ff12 ls17f">appi</span>n<span class="ff12 lse1">g a</span>n</span><span class="ls140 ws715"> optio<span class="ff13 ls6 ws0">n</span><span class="lsed ws4ed"> to a </span></span></span></div><div class="t m0 xc8 h14 y10d3 ff13 fs7 fcb sc0 ls6 ws0">m<span class="ff12 lse4 ws318">essage a</span>n<span class="ff12 ls13e ws705">d p</span>r<span class="ff12">i</span>n<span class="ff12 lsd2">ti</span>n<span class="ff12 ls118 ws690">g the </span>m<span class="ff12 ws3a5">essage a</span>r<span class="ff12 ls117">e </span>m<span class="ff12 lsd5">ixed.</span></div></div><div class="c x90 y10d4 w87 h46"><div class="t m0 xf5 h14 yf2d ff12 fs7 fcb sc0 ls170 ws0">Ext<span class="ff13 ls6">r</span><span class="ls88">acti<span class="ff13 ls6">n</span><span class="lse4 ws45a">g the </span><span class="ff13 ls6">m</span><span class="ls181">appi<span class="ff13 ls6">n</span><span class="lsee ws2cf">g of choices to </span><span class="ff13 ls6">m</span><span class="lse4">essages </span></span></span></div><div class="t m0 xf5 h14 y936 ff13 fs7 fcb sc0 ls6 ws0">m<span class="ff12 ls88 ws2d0">akes addi</span>n<span class="ff12 lsdd ws4">g a </span>n<span class="ff12 lsdc ws3df">ew optio</span>n<span class="ff12 ls10e ws55a"> si</span>m<span class="ff12 lsde">ple</span>r<span class="ff12">.</span></div></div><div class="c x65 y38 w28 h56"><div class="t m0 x12e h14 y65c ff12 fs7 fcb sc0 ls145 ws7dc">The outco<span class="ff13 ls6 ws0">m</span><span class="lsec ws7dd">e is ce<span class="ff13 ls6 ws0">n<span class="ff12">t</span>r</span><span class="ls88 ws7de">alized, a<span class="ff13 ls6 ws0">n</span></span>d p<span class="ff13 ls6 ws0">r<span class="ff12">i</span>n<span class="ff12 lsd2">ti</span>n<span class="ff12 lse1">g </span></span></span></div><div class="t m0 x12e h14 y65d ff12 fs7 fcb sc0 lsff ws0">behavio<span class="ff13 ls6">r</span><span class="ls150 ws4f8"> is sepa</span><span class="ff13 ls6">r</span><span class="ls12f ws64e">ated so</span><span class="ff13 ls6">m<span class="ff12">ewhat.</span></span></div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
