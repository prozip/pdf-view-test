<div id="pf96" class="pf w0 h0" data-page-no="96"><div class="pc pc96 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg96.png"/><div class="t m0 x42 h14 y80 ff7 fs7 fcb sc0 ls6 ws0">126</div><div class="t m0 x66 h2b y1cf ffb fs18 fcb sc0 ls6 ws0">C</div><div class="t m0 x8e h2c y1d0 ffb fs19 fcb sc0 ls185 ws0">HAPTER</div><div class="t m0 xf1 h2b y1cf ffb fs18 fcb sc0 ls8c ws0"> 6</div><div class="t m0 xe4 h2d y80 ffa fs7 fcb sc0 ls6 ws0">Separation of concerns in practice</div><div class="t m0 x44 h3b y395 ffd fs18 fc3 sc0 lsb2 ws0">if<span class="_"> </span>__name__<span class="_"> </span>==<span class="_"> </span>&apos;__main__&apos;:</div><div class="t m0 xae h3b y396 ffd fs18 fc3 sc0 lsb2 ws0">...</div><div class="t m0 xae h3b y40d ffd fs18 fc3 sc0 lsb2 ws0">clear_screen()</div><div class="t m0 xae h3b y483 ffd fs18 fc3 sc0 lsb2 ws0">print_options(options)</div><div class="t m0 xae h3b y484 ffd fs18 fc3 sc0 lsb2 ws0">chosen_option<span class="_"> </span>=<span class="_"> </span>get_option_choice(options)</div><div class="t m0 xae h3b y569 ffd fs18 fc3 sc0 lsb2 ws0">clear_screen()</div><div class="t m0 xae h3b y56a ffd fs18 fc1 sc0 lsb2 ws0">chosen_option.choose()</div><div class="t m0 x44 h15 y40e ff4 fsb fc3 sc0 ls20 ws1ca">This will be most helpful when the menu<span class="ls3a ws1c6"> and command results get printed over and</span></div><div class="t m0 x44 h15 y40f ff4 fsb fc3 sc0 ls38 ws26">over again, which is the fi<span class="ls4e ws3e">nal piece of this puzzle. </span></div><div class="t m0 x44 h30 yf31 ffb fsc fc2 sc0 ls6 ws0">A</div><div class="t m0 x1a h5a yf32 ffb fs20 fc2 sc0 ls1d3 ws0">PPLICATION</div><div class="t m0 x36 h30 yf31 ffb fsc fc2 sc0 ls6 ws0"> </div><div class="t m0 xaf h5a yf32 ffb fs20 fc2 sc0 ls1d4 ws0">LOOP</div><div class="t m0 x44 h15 yf33 ff4 fsb fc3 sc0 ls7c ws0">Th<span class="_ _e"></span>e l<span class="_ _e"></span>as<span class="_ _e"></span>t s<span class="_ _e"></span>tep<span class="_ _e"></span> is<span class="_ _e"></span> to<span class="_ _e"></span> ru<span class="_ _e"></span>n B<span class="_ _e"></span>ar<span class="_ _e"></span>k i<span class="_ _e"></span>n a l<span class="_ _e"></span>oo<span class="_ _e"></span>p s<span class="_ _e"></span>o <span class="ls38 ws1a3">that users can perform several actions in a row.</span></div><div class="t m0 x44 h15 yf34 ff4 fsb fc3 sc0 ls30 ws394">To do this, create a </div><div class="t m5 x114 h24 yf35 ffd fsc fc3 sc0 lsa0 ws0">loop</div><div class="t m0 xbe h15 yf34 ff4 fsb fc3 sc0 ls2d wsbc"> method and move everything but the database initialization</div><div class="t m0 x44 h15 yf36 ff4 fsb fc3 sc0 ls3d ws476">from the </div><div class="t m5 x90 h24 y104c ffd fsc fc3 sc0 lsa0 ws68e">if __name__ =<span class="_ _e"></span>= &apos;__main__&apos;</div><div class="t m0 x64 h15 yf36 ff4 fsb fc3 sc0 ls63 ws7a0"> block into it<span class="_ _e"></span>. Back in the </div><div class="t m5 x120 h24 y104c ffd fsc fc3 sc0 lsa0 ws68e">if __name__ =<span class="_ _e"></span>=</div><div class="t m5 x44 h24 yf37 ffd fsc fc3 sc0 lsa0 ws0">&apos;__main__&apos;</div><div class="t m0 xaf h15 ye70 ff4 fsb fc3 sc0 ls14c ws7a1"> block, ca<span class="_ _0"></span>ll </div><div class="t m5 x92 h24 yf37 ffd fsc fc3 sc0 lsa0 ws0">loop</div><div class="t m0 x116 h15 ye70 ff4 fsb fc3 sc0 lsbc ws7a2"> inside a </div><div class="t m5 xb3 h24 yf37 ffd fsc fc3 sc0 lsa0 ws640">while True:</div><div class="t m0 x51 h15 ye70 ff4 fsb fc3 sc0 ls1c ws23a"> block. At the end of </div><div class="t m5 x95 h24 yf37 ffd fsc fc3 sc0 lsa0 ws0">loop</div><div class="t m0 x96 h15 ye70 ff4 fsb fc3 sc0 ls2c ws7a3">, add a line</div><div class="t m0 x44 h15 yf38 ff4 fsb fc3 sc0 ls5e ws14a">to pause and wait for the <span class="_ _e"></span>user to<span class="ls35 ws24"> press Enter before proceeding.</span></div><div class="t m0 x44 h3b y104d ffd fs18 fc3 sc0 lsb2 ws0">def<span class="_"> </span>loop():</div><div class="t m0 xae h3b y104e ffd fs18 fc3 sc0 lsb2 ws0">#<span class="_"> </span>All<span class="_"> </span>the<span class="_"> </span>steps<span class="_"> </span>for<span class="_"> </span>showing/selecting<span class="_"> </span>options</div><div class="t m0 xae h3b y104f ffd fs18 fc3 sc0 lsb2 ws0">...</div><div class="t m0 xae h3b y1050 ffd fs18 fc3 sc0 lsb2 ws0">_<span class="_"> </span>=<span class="_"> </span>input(&apos;Press<span class="_"> </span>ENTER<span class="_"> </span>to<span class="_"> </span>return<span class="_"> </span>to<span class="_"> </span>menu&apos;)</div><div class="t m0 x44 h3b y1051 ffd fs18 fc3 sc0 lsb2 ws0">if<span class="_"> </span>__name__<span class="_"> </span>==<span class="_"> </span>&apos;__main__&apos;:</div><div class="t m0 xae h3b y1052 ffd fs18 fc3 sc0 lsb2 ws0">commands.CreateBookmarksTableCommand().execute()</div><div class="t m0 xae h3b y1053 ffd fs18 fc3 sc0 lsb2 ws0">while<span class="_"> </span>True:</div><div class="t m0 x97 h3b y1054 ffd fs18 fc3 sc0 lsb2 ws0">loop()</div><div class="t m0 x44 h15 yff3 ff4 fsb fc3 sc0 ls48 ws4e0">Now Bark will give the user a way to return <span class="ls34 ws3a8">to the menu after each interaction, and the</span></div><div class="t m0 x44 h15 y356 ff4 fsb fc3 sc0 ls38 ws472">menu gives them an option to<span class="ls70 ws7a4"> exit. This covers all th<span class="_ _e"></span>e bases. What do you think? I</span></div><div class="t m0 x44 h15 y357 ff4 fsb fc3 sc0 ls3b ws29">think it’s about time to start using Bark. </div><div class="t m0 x44 h1f y1055 ffc fs13 fc2 sc0 lsa9 ws0">Summary</div><div class="t m0 x86 h29 y1056 ffe fs17 fca sc0 ls6 ws0"></div><div class="t m0 x87 h15 y7bf ff4 fsb fc3 sc0 ls3d ws7a5">Separation of concerns is a tool <span class="_ _e"></span>fo<span class="ls51 ws7a6">r achieving more readable, maintainable</span></div><div class="t m0 x87 h15 y7c0 ff4 fsb fc3 sc0 lsbb ws0">code.</div><div class="t m0 x86 h29 y1057 ffe fs17 fca sc0 ls6 ws0"></div><div class="t m0 x87 h15 y6d9 ff4 fsb fc3 sc0 ls2f ws1c1">End-user applications are often separate<span class="ls1e ws236">d into persistence, business logic, and</span></div><div class="t m0 x87 h15 y6da ff4 fsb fc3 sc0 ls42 ws32">presentation layers.</div><div class="t m0 x86 h29 yd1b ffe fs17 fca sc0 ls6 ws0"></div><div class="t m0 x87 h15 y19e ff4 fsb fc3 sc0 ls51 ws43">Separation of concerns works closely with<span class="ls38 ws1f4"> encapsulation, abstraction, and loose</span></div><div class="t m0 x87 h15 y65 ff4 fsb fc3 sc0 ls6f ws0">coupling.</div><div class="t m0 x86 h29 y1058 ffe fs17 fca sc0 ls6 ws0"></div><div class="t m0 x87 h15 y1059 ff4 fsb fc3 sc0 ls5e ws14a">Applying effective separatio<span class="_ _e"></span>n of concerns allows you to add, change, and delete</div><div class="t m0 x87 h15 y105a ff4 fsb fc3 sc0 ls1c ws10">functionality without affect<span class="ls2d ws1d">ing the surrounding code.</span></div><div class="c x39 y105b wa h8b"><div class="t m0 x12e h14 y105c ff12 fs7 fcb sc0 lsff ws0">Eve<span class="ff13 ls6">r</span><span class="ls16d">ythi<span class="ff13 ls6">n</span><span class="ls140 ws715">g that happe</span><span class="ff13 ls6">n</span><span class="ls10e ws4f1">s f<span class="_ _e"></span>o</span><span class="ff13 ls6">r<span class="ff12"> </span></span></span></div><div class="t m0 x12e h14 y105d ff12 fs7 fcb sc0 ls125 ws0">each <span class="ff13 ls6">m<span class="ff12">e</span>n</span><span class="lsd5 ws2a6">u &gt; optio</span><span class="ff13 ls6">n</span><span class="ls146 ws4b3"> &gt; </span><span class="ff13 ls6">r</span><span class="lsfd">esult </span></div><div class="t m0 x12e h14 y105e ff12 fs7 fcb sc0 ls6 ws317">loop goes he<span class="ff13 ws0">r<span class="ff12">e.</span></span></div></div><div class="c x6d y105f w80 hea"><div class="t m0 x12e h14 y1060 ff12 fs7 fcb sc0 ls6 ws0">P<span class="ff13">r</span>o<span class="ff13">m</span><span class="ls125 ws7a7">pts the use</span><span class="ff13">r</span><span class="ls146 ws7a8"> to p</span><span class="ff13">r</span><span class="lsee">ess </span></div><div class="t m0 x12e h14 y1061 ff12 fs7 fcb sc0 ls6 ws0">E<span class="ff13">n</span><span class="lsd2">te</span><span class="ff13">r</span><span class="lse1"> a</span><span class="ff13">n</span><span class="ls13e">d </span><span class="ff13">r</span><span class="lsff ws38b">eviews the </span></div><div class="t m0 x12e h14 y1062 ff13 fs7 fcb sc0 ls6 ws0">r<span class="ff12 ls10a ws339">esult befo</span>r<span class="ff12 ws317">e p</span>r<span class="ff12 lsd6">oceedi</span>n<span class="ff12 lse1">g </span></div><div class="t m0 x12e h14 y1063 ff12 fs7 fcb sc0 ls13d ws0">(_ <span class="ff13 ls6">m<span class="ff12">ea</span>n</span><span class="ls19d ws7a9">s “u</span><span class="ff13 ls6">n</span><span class="lsd6 ws2a7">used value”)</span></div></div><div class="c x114 y1064 w81 h43"><div class="t m0 xea h14 y4aa ff12 fs7 fcb sc0 lse3 ws7aa">Loops fo<span class="ff13 ls6 ws0">r<span class="ff12 lsd5">eve</span>r</span><span class="ls170 ws7ab"> (u<span class="ff13 ls6 ws0">n</span><span class="lsda ws7ac">til the use<span class="ff13 ls6 ws0">r</span> chooses the </span></span></div><div class="t m0 xea h14 y936 ff12 fs7 fcb sc0 ls140 ws0">optio<span class="ff13 ls6">n</span><span class="lsdf ws4c9"> co</span><span class="ff13 ls123">rr</span><span class="ls10a">espo<span class="ff13 ls6">n</span><span class="lsec">di<span class="ff13 ls6">n</span><span class="ws45e">g to QuitCo</span><span class="ff13 ls119">mm</span><span class="ls6">a<span class="ff13">n</span></span>d)</span></span></div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
