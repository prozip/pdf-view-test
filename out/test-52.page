<div id="pf34" class="pf w0 h0" data-page-no="34"><div class="pc pc34 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg34.png"/><div class="t m0 x42 h14 y80 ff7 fs7 fcb sc0 ls6 ws0">28</div><div class="t m0 x3 h2b y1cf ffb fs18 fcb sc0 ls6 ws0">C</div><div class="t m0 x29 h2c y1d0 ffb fs19 fcb sc0 lsf6 ws0">HAPTER</div><div class="t m0 x47 h2b y1cf ffb fs18 fcb sc0 ls8c ws0"> 2</div><div class="t m0 xca h2d y80 ffa fs7 fcb sc0 ls6 ws0">Separation of concerns</div><div class="t m0 x97 h3b y395 ffd fs18 fc3 sc0 lsb2 ws0">message<span class="_"> </span>+=<span class="_"> </span>&apos;and<span class="_"> </span>&apos;</div><div class="t m0 xae h3b y396 ffd fs18 fc3 sc0 lsb2 ws0">message<span class="_"> </span>+=<span class="_"> </span>name</div><div class="t m0 x44 h3b y397 ffd fs18 fc1 sc0 lsb2 ws0">print(message)</div><div class="t m0 x44 h15 y464 ff4 fsb fc3 sc0 ls3d ws1ac">This works, but the original code wasn’t<span class="_ _e"></span> te<span class="ls60 ws37c">rribly clear to begin <span class="_ _e"></span><span class="ls30 ws37d">with, and now there are</span></span></div><div class="t m0 x44 h15 y465 ff3 fsb fc3 sc0 ls73 ws0">two<span class="ff4 ls1c ws10"> of them! Extracting the introduction logi<span class="ws17f">c into a function re<span class="_ _e"></span>duces the duplication</span></span></div><div class="t m0 x44 h15 y466 ff4 fsb fc3 sc0 ls71 wsd4">and gives the code a name to clarify what it does:</div><div class="t m0 x44 h3b y467 ffd fs18 fc3 sc0 lsb2 ws0">def<span class="_"> </span>introduce_stooges(names):</div><div class="t m0 xae h3b y468 ffd fs18 fc3 sc0 lsb2 ws0">message<span class="_"> </span>=<span class="_"> </span>&apos;The<span class="_"> </span>Three<span class="_"> </span>Stooges:<span class="_"> </span>&apos;</div><div class="t m0 xae h3b y469 ffd fs18 fc3 sc0 lsb2 ws0">for<span class="_"> </span>index,<span class="_"> </span>name<span class="_"> </span>in<span class="_"> </span>enumerate(names):</div><div class="t m0 x97 h3b y46a ffd fs18 fc3 sc0 lsb2 ws0">if<span class="_"> </span>index<span class="_"> </span>&gt;<span class="_"> </span>0:</div><div class="t m0 xc3 h3b y46b ffd fs18 fc3 sc0 lsb2 ws0">message<span class="_"> </span>+=<span class="_"> </span>&apos;,<span class="_"> </span>&apos;</div><div class="t m0 x97 h3b y412 ffd fs18 fc3 sc0 lsb2 ws0">if<span class="_"> </span>index<span class="_"> </span>==<span class="_"> </span>len(names)<span class="_"> </span>-<span class="_"> </span>1:</div><div class="t m0 xc3 h3b y413 ffd fs18 fc3 sc0 lsb2 ws0">message<span class="_"> </span>+=<span class="_"> </span>&apos;and<span class="_"> </span>&apos;</div><div class="t m0 x97 h3b y46c ffd fs18 fc3 sc0 lsb2 ws0">message<span class="_"> </span>+=<span class="_"> </span>name</div><div class="t m0 xae h3b y46d ffd fs18 fc3 sc0 lsb2 ws0">print(message)</div><div class="t m0 x44 h3b y46e ffd fs18 fc3 sc0 lsb2 ws0">introduce_stooges([&apos;Moe&apos;,<span class="_"> </span>&apos;Larry&apos;,<span class="_"> </span>&apos;Shemp&apos;])</div><div class="t m0 x44 h3b y46f ffd fs18 fc1 sc0 lsb2 ws0">introduce_stooges([&apos;Larry&apos;,<span class="_"> </span>&apos;Curly&apos;,<span class="_"> </span>&apos;Moe&apos;])</div><div class="t m0 x44 h15 y114 ff4 fsb fc3 sc0 ls34 ws7e">Now the behavior has a clear name, and if <span class="ls42 ws37e">you want to spend some time making the</span></div><div class="t m0 x44 h15 y96 ff4 fsb fc3 sc0 ls42 ws1e5">code even clearer, you can focus on the </div><div class="t m5 x4e h24 y470 ffd fsc fc3 sc0 lsa0 ws0">introduce_st<span class="_ _e"></span>ooges</div><div class="t m0 xa6 h15 y96 ff4 fsb fc3 sc0 ls42 ws1e5"> function body alone. As</div><div class="t m0 x44 h15 y34d ff4 fsb fc3 sc0 ls51 ws37f">long as the function contin<span class="ls31 ws335">ues accepting a <span class="_ _0"></span>list of names <span class="ls1f ws380">and continues printing the</span></span></div><div class="t m0 x44 h15 y34e ff4 fsb fc3 sc0 lsc5 ws381">introduc<span class="_ _0"></span>tion you want,<span class="_ _0"></span> you can be <span class="ls1b wsf">confident your code still works.</span></div><div class="t m0 x33 h31 y471 ff4 fs1a fc3 sc0 ls6 ws0">4</div><div class="t m0 x32 h15 y472 ff4 fsb fc3 sc0 ls3a ws1c2"> Pleased with your Three Stooges fan page<span class="ls1f ws382">, you decide to expand to <span class="_ _0"></span>other famous</span></div><div class="t m0 x44 h15 y41c ff4 fsb fc3 sc0 ls51 ws383">groups. As you start working on the Teenage Mu<span class="_ _0"></span>tant Ninja Turtles,</div><div class="t m0 x7d h31 y473 ff4 fs1a fc3 sc0 ls6 ws0">5</div><div class="t m0 xde h15 y41c ff4 fsb fc3 sc0 ls35 ws384"> though, you</div><div class="t m0 x44 h15 y158 ff4 fsb fc3 sc0 ls1c ws385">notice an issue: the </div><div class="t m5 xb1 h24 y158 ffd fsc fc3 sc0 lsa0 ws0">introduce_s<span class="_ _e"></span>tooges</div><div class="t m0 xa1 h15 y158 ff4 fsb fc3 sc0 ls66 ws386"> function only intr<span class="_ _0"></span>oduces stooges (as you</div><div class="t m0 x44 h15 y159 ff4 fsb fc3 sc0 ls9e ws285">might guess). As it<span class="_ _0"></span> turns out, the functio<span class="_ _0"></span>n has two concerns:</div><div class="t m0 x86 h29 y474 ffe fs17 fca sc0 ls6 ws0"></div><div class="t m0 x87 h15 y15b ff4 fsb fc3 sc0 ls1c ws10">Knowing the introduction is for the Three Stooges</div><div class="t m0 x86 h29 y475 ffe fs17 fca sc0 ls6 ws0"></div><div class="t m0 x87 h15 y420 ff4 fsb fc3 sc0 ls71 wsd4">Introducing a list of names as the stooges</div><div class="t m0 x44 h15 y12f ff4 fsb fc3 sc0 ls42 ws105">How do you move past this? You can generalize the function and separate the first</div><div class="t m0 x44 h15 y130 ff4 fsb fc3 sc0 lsac ws387">concern by ext<span class="_ _0"></span>racting the grou<span class="_ _0"></span>p title (“<span class="ls42 ws37e">The Three Stooges”, “T<span class="ls1c ws151">eenage Mutant Ninja</span></span></div><div class="t m0 x44 h15 y131 ff4 fsb fc3 sc0 ls71 wsd4">Turtles”, and so on) as anothe<span class="lsb1 ws2e9">r argument to <span class="_ _0"></span>the function.</span></div><div class="t m0 x44 h3b y476 ffd fs18 fc3 sc0 lsb2 ws0">def<span class="_"> </span>introduce(title,<span class="_"> </span>names):</div><div class="t m0 xae h3b y477 ffd fs18 fc3 sc0 lsb2 ws0">message<span class="_"> </span>=<span class="_"> </span>f&apos;{title}:<span class="_"> </span>&apos;</div><div class="t m0 xae h3b y478 ffd fs18 fc3 sc0 lsb2 ws0">for<span class="_"> </span>index,<span class="_"> </span>name<span class="_"> </span>in<span class="_"> </span>enumerate(names):</div><div class="t m0 x97 h3b y479 ffd fs18 fc3 sc0 lsb2 ws0">if<span class="_"> </span>index<span class="_"> </span>&gt;<span class="_"> </span>0:</div><div class="t m0 xc3 h3b y47a ffd fs18 fc3 sc0 lsb2 ws0">message<span class="_"> </span>+=<span class="_"> </span>&apos;,<span class="_"> </span>&apos;</div><div class="t m0 x97 h3b y47b ffd fs18 fc3 sc0 lsb2 ws0">if<span class="_"> </span>index<span class="_"> </span>==<span class="_"> </span>len(names)<span class="_"> </span>-<span class="_"> </span>1:</div><div class="t m0 xc3 h3b y47c ffd fs18 fc3 sc0 lsb2 ws0">message<span class="_"> </span>+=<span class="_"> </span>&apos;and<span class="_"> </span>&apos;</div><div class="c xb3 y47d wa h46"><div class="t m0 x43 h14 y2ed ff12 fs7 fcb sc0 ls105 ws327">The ext<span class="ff13 ls6 ws0">r</span><span class="lsd6 ws2a7">acted fu<span class="ff13 ls6 ws0">n<span class="ff12 lse4">ctio</span>n</span><span class="ls88 ws314"> takes </span></span></div><div class="t m0 x43 h14 y2ee ff12 fs7 fcb sc0 ls10c ws0">cha<span class="ff13 ls6">r</span><span class="ls88">acte<span class="ff13 ls6">r<span class="ff12"> </span>n<span class="ff12">a</span>m</span><span class="ls111 ws388">es as a pa</span><span class="ff13 ls6">r<span class="ff12">a</span>m</span><span class="ls105">ete<span class="ff13 ls6">r<span class="ff12">.</span></span></span></span></div></div><div class="c x30 y47e wa h56"><div class="t m0 x43 h14 y47f ff12 fs7 fcb sc0 lse0 ws389">Multiple sets of <span class="ff13 ls6 ws0">n<span class="ff12">a</span>m</span><span class="lsd2 ws35c">es ca<span class="ff13 ls6 ws0">n</span><span class="lsd9 ws2ce"> be </span></span></div><div class="t m0 x43 h14 y480 ff12 fs7 fcb sc0 lsd5 ws2a6">used with the sa<span class="ff13 ls6 ws0">m</span><span class="lsf2 ws38a">e fu<span class="ff13 ls6 ws0">n<span class="ff12 lse4">ctio</span>n<span class="ff12">.</span></span></span></div></div><div class="c xb3 y3e3 w12 h43"><div class="t m0 x43 h14 y2ed ff12 fs7 fcb sc0 lsff ws38b">_stooges is d<span class="ff13 ls6 ws0">r</span><span class="lsd9 ws2ce">opped f<span class="ff13 ls6 ws0">r<span class="ff12">o</span>m</span><span class="lsda ws2aa"> the </span></span></div><div class="t m0 x43 h14 y2ee ff12 fs7 fcb sc0 ls103 ws0">fu<span class="ff13 ls6">n</span><span class="lse4">ctio<span class="ff13 ls6">n<span class="ff12"> </span>n<span class="ff12">a</span>m</span><span class="lsd2 ws38c">e, a</span><span class="ff13 ls6">n</span><span class="lsd6 ws2a7">d title is passed i</span><span class="ff13 ls6">n<span class="ff12">.</span></span></span></div></div><div class="t m0 x42 h32 y481 ff4 fs1b fcd sc0 ls6 ws0">4</div><div class="t m0 x43 h33 y482 ff4 fs17 fcd sc0 ls6 ws0">For <span class="_ _e"></span>a d<span class="_ _e"></span>etailed d<span class="_ _e"></span>iscussion o<span class="_ _e"></span>n extractin<span class="_ _e"></span>g functions <span class="_ _e"></span>(and</div><div class="t m3 x0 h34 y482 ff8 fs17 fcd sc0 ls6 ws0"> </div><div class="t m0 x84 h33 y482 ff4 fs17 fcd sc0 ls6 ws0">other <span class="_ _e"></span>valuable <span class="_ _e"></span>exercises), <span class="_ _e"></span>I h<span class="_ _e"></span>ighly re<span class="_ _e"></span>commend <span class="_ _e"></span>Martin</div><div class="t m0 x43 h33 y20e ff4 fs17 fcd sc0 ls6 ws0">Fowler </div><div class="t m3 x0 h34 y20e ff8 fs17 fcd sc0 ls6 ws0"> </div><div class="t m0 xe5 h33 y20e ff4 fs17 fcd sc0 ls6 ws0">and </div><div class="t m3 x0 h34 y20e ff8 fs17 fcd sc0 ls6 ws0"> </div><div class="t m0 xbc h33 y20e ff4 fs17 fcd sc0 ls6 ws0">Kent </div><div class="t m3 x0 h34 y20e ff8 fs17 fcd sc0 ls6 ws0"> </div><div class="t m0 x97 h33 y20e ff4 fs17 fcd sc0 ls6 ws0">Beck,</div><div class="t m3 x0 h34 y20e ff8 fs17 fcd sc0 ls6 ws0"> </div><div class="t m0 x8c h33 y20e ff3 fs17 fcd sc0 ls6 ws0">Refactoring<span class="ff4">, </span></div><div class="t m3 x0 h34 y20e ff8 fs17 fcd sc0 ls6 ws0"> </div><div class="t m0 x23 h33 y20e ff4 fs17 fcd sc0 ls6 ws0">second </div><div class="t m3 x0 h34 y20e ff8 fs17 fcd sc0 ls6 ws0"> </div><div class="t m0 x93 h33 y20e ff4 fs17 fcd sc0 ls6 ws0">edition </div><div class="t m3 x0 h34 y20e ff8 fs17 fcd sc0 ls6 ws0"> </div><div class="t m0 x6a h33 y20e ff4 fs17 fcd sc0 ls6 ws0">(Addison-Wesley </div><div class="t m3 x0 h34 y20e ff8 fs17 fcd sc0 ls6 ws0"> </div><div class="t m0 x3e h33 y20e ff4 fs17 fcd sc0 ls6 ws0">Professional, </div><div class="t m3 x0 h34 y20e ff8 fs17 fcd sc0 ls6 ws0"> </div><div class="t m0 x33 h33 y20e ff4 fs17 fcd sc0 ls6 ws0">2018),</div><div class="t m3 x0 h34 y20e ff8 fs17 fcd sc0 ls6 ws0"> </div><div class="t m0 xd4 h33 y20e ff4 fs17 fcf sc0 ls6 ws0">https://martin-</div><div class="t m3 x0 h34 y20e ff8 fs17 fcf sc0 ls6 ws0"> </div><div class="t m0 x43 h33 y20f ff4 fs17 fcf sc0 ls6 ws0">fowler.com/b<span class="_ _e"></span>ooks/refactoring.html<span class="fcd">.</span></div><div class="t m0 x42 h32 y210 ff4 fs1b fcf sc0 ls6 ws0">5</div><div class="t m0 x43 h33 y211 ff4 fs17 fcf sc0 ls6 ws0">http://mng.bz<span class="_ _e"></span>/RPan</div><a class="l" href="http://mng.bz/RPan"><div class="d m2" style="border-style:none;position:absolute;left:60.120000px;bottom:61.718000px;width:405.000000px;height:9.900000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://martinfowler.com/books/refactoring.html"><div class="d m2" style="border-style:none;position:absolute;left:407.520000px;bottom:81.758000px;width:57.600000px;height:9.720000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://martinfowler.com/books/refactoring.html"><div class="d m2" style="border-style:none;position:absolute;left:57.120000px;bottom:72.218000px;width:136.620000px;height:9.540000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
